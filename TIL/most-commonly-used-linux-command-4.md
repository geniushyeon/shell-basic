# 가장 많이 쓰는 리눅스 명령어(3) - sed
## 1. sed 사용법 알아보기
sed는 스트림 편집기 - 입력 스트림에서 텍스트 변환을 수행하는 데 사용됨
- 입력 스트림: 텍스트를 변경하고자 하는 대상 파일
- 스크립트: 어떤 텍스트를 어덯게 변환할지 정의
### 1.1. 기본 사용법(1)
- 옵션
- 스크립트: 어떤 텍스트를 어떻게 변경할 것인지를 기술
  - 어드레스: 대상 파일의 범위를 지정, 생략되면 대상 파일 전체를 대상으로 명령어 수행
  - 명령어
- 대상 파일
```bash
$ sed [옵션] '어드레스 {명령어}' 대상 파일
```
### 1.2. 기본 사용법(2)
찾을 문자열과 변경하고자 하는 문자열을 스크립트로 작성한 파일을 이용하여 대상 파일의 문자열 변경
```bash
$ sed [옵션] -f 스크립트파일 대상파일
```
### 1.3. 기본 사용법(3)
리눅스 명령어나 애플리케이션의 명령어를 통해 얻은 결과를 이용하여, 해당 결과에서 찾은 문자열을 변경할 때 주로 이용
- 쉘 스크립트 작성 시 다른 명령어들과 함께 사용되며, 특수 문자열을 변경할 경우 많이 사용됨
```bash
명령어 | sed [옵션] '{스크립트}'
```
## 2. sed 스크립트
어떤 범위(addresses)의 어떤 문자열이 포함된 라인을 추출할 것인지, 특정 문자열을 원하는 다른 문자열로 변경(command)할 것인지를 명시하는 일
- addresses는 옵션처럼 생략될 수도 있으며, 생략되면 sed는 대상 파일 전체에서 특정 문자열을 찾고 변경한다.
### 2.1. addresses
대상 파일의 범위, 정의되지 않았을 경우에는 대상 파일 전체에서 특정 문자열을 찾거나 명령어 수행
|옵션|설명|
|--|--|
|number|명시된 숫자에 해당하는 라인 번호일 경우 다음 명령어를 수행함|
|number~step|명시된 숫자에 해당하는 라인부터 명시한 단계만큼 해당 라인을 스킵한 다음 라인일 경우 다음 명령어를 수행함|
|$|파일의 마지막 라인일 경우 다음 명령어를 수행함|
|/regexp/|명시한 정규 표현식과 일치하는 라인일 경우 다음 명령어를 수행함|
|\cregexpc|명시한 정규 표현식과 일치하는 라인일 경우 다음 명령어를 수행함|
|0,addr2|1번째 라인부터 addr2가 포함된 라인까지가 범위이며, addr2는 정규 표현식이어야 함|
|addr1, +N|addr1이 포함된 라인부터 +N라인까지가 범위이며, addr1은 정규 표현식, N은 숫자여야 함|
|addr1,~N|addr1이 포함된 라인을 기준으로 N라인까지가 범위이며, addr1은 정규 표현식, N은 숫자여야 함|
### 2.2. 명령어
#### 2.2.1. 0 or 1 어드레스 명령어
|옵션|설명|
|--|--|
|:label|라벨|
|#comment|주석|
|{ ... }|블록|
|=|현재 라인 번호 출력|
|a \ text|문자열 추가|
|i \text|문자열 삽입|
|q/Q|sed 스크립트 실행 종료
|r 파일명|파일 내용 추가|
|R 파일명|파일의 첫 라인 추가